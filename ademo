<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body{
				width: 100%;
				height: 100%;
			}
			body{
				background: grey; 
			}
			/*css改变画布   画布颜色与body一致*/
			#test{
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				margin: auto;
				background: white;
			}
		</style>
	</head>
	<body>
		<canvas id="test" width="300px" height="300px">111</canvas>
	</body>
	<script type="text/javascript">
		window.onload = function(){
		var flag = 0 ;
		var a = 0;
		b = 0;
		var canvas = document.querySelector("#test");
		if (canvas.getContext) {
			var ctx = canvas.getContext("2d");
			ctx.fillStyle = "aqua";
			ctx.save();
			ctx.translate(150,150);//原点移到圆心
			ctx.beginPath();
			ctx.fillRect(-25,-25,50,50);
			ctx.restore();//先画一个矩形
			setInterval(function(){
				flag++;
				ctx.clearRect(0,0,canvas.width,canvas.height);//清除画布
				ctx.save();
				ctx.translate(150,150);
				ctx.rotate(flag*Math.PI/180);//旋转
				if (a==200) {
					b = -1;} 
					else if(a==0){
					b = 1;	
				}
				a = a + b;
//				console.log(a);
				ctx.scale(a/50,a/50);//放大缩小
				ctx.fillRect(-25,-25,50,50);//重新画一个矩形
				ctx.restore();
				
			},10)
			}
		} 
	</script>
</html>
